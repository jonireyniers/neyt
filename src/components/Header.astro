---
// filepath: c:\Users\h039864\OneDrive - Baloise\personal\neyt-main\src\components\Header.astro
import LanguageSwitcher from './LanguageSwitcher.astro';
import companyData from '../data/company.json';

export interface Props {
  locale: 'en' | 'fr' | 'nl';
}

const { locale } = Astro.props;
const companyName = companyData.company.names[locale];

const nav = {
  en: { home: 'Home', furniture: 'Furniture', company: 'Company', contact: 'Contact' },
  fr: { home: 'Accueil', furniture: 'Meubles', company: 'Entreprise', contact: 'Contact' },
  nl: { home: 'Home', furniture: 'Meubelen', company: 'Bedrijf', contact: 'Contact' }
};
---

<header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm">
  <div class="container">
    <div class="flex items-center justify-center py-4 relative">
      <!-- Mobile menu button - absolute left -->
      <button 
        id="mobile-menu-button" 
        class="md:hidden absolute left-0 p-2 hover:bg-gray-100 rounded-lg transition-colors"
        aria-label="Menu"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path class="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          <path class="close-icon hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
      
      <!-- Desktop navigation - centered -->
      <nav class="hidden md:flex items-center gap-1">
        <a href={`/${locale === 'nl' ? '' : locale}`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].home}
        </a>
        <a href={`/${locale === 'nl' ? '' : `${locale}/`}furniture`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].furniture}
        </a>
        <a href={`/${locale === 'nl' ? '' : `${locale}/`}company`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].company}
        </a>
        <a href={`/${locale === 'nl' ? '' : `${locale}/`}contact`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].contact}
        </a>
      </nav>
      
      <!-- Language switcher - absolute right -->
      <div class="absolute right-0">
        <LanguageSwitcher locale={locale} currentPath={Astro.url.pathname} />
      </div>
    </div>

    <!-- Mobile navigation -->
    <nav id="mobile-menu" class="hidden md:hidden mt-4 pt-4 border-t border-gray-200">
      <div class="flex flex-col gap-4">
        <a href={`/${locale === 'nl' ? '' : locale}`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].home}
        </a>
        <a href={`/${locale === 'nl' ? '' : `${locale}/`}furniture`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].furniture}
        </a>
        <a href={`/${locale === 'nl' ? '' : `${locale}/`}company`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].company}
        </a>
        <a href={`/${locale === 'nl' ? '' : `${locale}/`}contact`} class="px-5 py-2.5 rounded-lg font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-all duration-200">
          {nav[locale].contact}
        </a>
      </div>
    </nav>
  </div>
</header>

<script>
  const button = document.getElementById('mobile-menu-button');
  const menu = document.getElementById('mobile-menu');
  const menuIcon = document.querySelector('.menu-icon');
  const closeIcon = document.querySelector('.close-icon');

  button?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
    menuIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
  });

  // Close menu when clicking on a link
  menu?.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      menu.classList.add('hidden');
      menuIcon?.classList.remove('hidden');
      closeIcon?.classList.add('hidden');
    });
  });
</script>