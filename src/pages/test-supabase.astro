---
const SUPABASE_URL = import.meta.env.PUBLIC_SUPABASE_URL;
const SUPABASE_KEY = import.meta.env.PUBLIC_SUPABASE_ANON_KEY;

let furniture = [];
let error = null;

try {
  const response = await fetch(
    `${SUPABASE_URL}/rest/v1/furniture?select=*`,
    {
      headers: {
        'apikey': SUPABASE_KEY,
        'Authorization': `Bearer ${SUPABASE_KEY}`
      }
    }
  );
  
  furniture = await response.json();
} catch (err) {
  error = err.message;
}
---

<html>
<body>
  <h1>Supabase Test</h1>
  
  {error && <p style="color: red;">Error: {error}</p>}
  
  <p>Furniture count: {furniture.length}</p>
  
  <pre>{JSON.stringify(furniture, null, 2)}</pre>
</body>
</html>